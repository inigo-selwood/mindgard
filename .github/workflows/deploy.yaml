name: Deploy

on:
  push:
    branches:
    - master

env:
  client_id: ${{ secrets.client_id }}
  tenant_id: ${{ secrets.tenant_id }}
  client_secret: ${{ secrets.client_secret }}

jobs:

  deploy:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v3

    - name: Login to Azure
      run: |
        az login \
          --service-principal \
          -u $client_id \
          -p $client_secret \
          --tenant $tenant_id
    